<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ZURB Tribute | Demo</title>
    <link rel="stylesheet" href="css/foundation.min.css" />
    <link rel="stylesheet" href="../dist/tribute.css" />
    <style>
      body {
        position: relative;
      }
      .tribute-demo-input {
        outline: none;
        border: 1px solid #eee;
        padding: 3px 5px;
        border-radius: 2px;
        font-size: 15px;
        min-height: 32px;
        cursor: text;
      }
      .tribute-demo-input:focus {
        border-color: #d1d1d1;
        background-color: #fbfbfb;
      }
      [contenteditable=true]:empty:before{
        content: attr(placeholder);
        display: block;
        color: #ccc;
      }

      .float-right {
        float: right;
      }
    </style>
  </head>
  <body>

    <div class="row">
      <div class="large-12 columns">
        <h1>Tribute Demo</h1>
      </div>
    </div>

    <div class="row">
      <div class="large-8 columns">
        <div class="callout large">
          <h5>Tribute Autocomplete on <code>contenteditable</code> element:</h5>
          <a id="activateAutocompleteInput">trigger mentions</a>
          <p id="testAutocomplete" class="tribute-demo-input" placeholder="Enter some text here"></p>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="large-8 columns">
        <div class="callout large">
          <h5>Tribute on <code>contenteditable</code> element:</h5>
          <a id="activateInput">@mention</a>
          <p id="test" class="tribute-demo-input" placeholder="Enter some text here"></p>

          <h5>Tribute with a local collection (on <code>@</code>) and a remote one (on <code>#</code>):</h5>
          <p id="testMultiple" class="tribute-demo-input" placeholder="Enter some text here"></p>
        </div>
      </div>
    </div>

    <div class="row float-right" id="content">
      <div class="large-8 medium-8 columns">
        <h5>Tribute on traditional form elements!</h5>
        <form>
          <div class="row">
            <div class="large-12 columns">
              <label>Input Label</label>
              <input id="testInput" type="text" placeholder="Enter some text here" />
            </div>
          </div>
          <div class="row">
            <div class="large-12 columns">
              <label>Textarea Label</label>
              <textarea id="testarea" placeholder="Enter some text here"></textarea>
            </div>
          </div>
        </form>
      </div>

    </div>

    <script src="../dist/tribute.js"></script>
    <script>
      //example for tribute Autocomplete
        var tributeAutoComplete = new Tribute({
          autoCompleteMode: true,
          collection: [{
            // The function that gets call on select that retuns the content to insert
            selectTemplate: function (item) {
              if (this.range.isContentEditable(this.current.element)) {
                return `<a href="http://zurb.com" title=${item.original.email} > ${item.original.value}</a>`;
              }

              return item.original.value;
            },

            // the array of objects
            values: [
              { key: 'Alabama', value: 'Alabama', email: 'Alabama@tribute.com' },
              { key: 'Alaska', value: 'Alaska', email: 'Alaska@tribute.com' },
              { key: 'Arizona', value: 'Arizona', email: 'Arizona@tribute.com' },
              { key: 'Arkansas', value: 'Arkansas', email: 'Arkansas@tribute.com' },
              { key: 'California', value: 'California', email: 'California@tribute.com' },
              { key: 'Colorado', value: 'Colorado', email: 'Colorado@tribute.com' },
              { key: 'Connecticut', value: 'Connecticut', email: 'Connecticut@tribute.com' },
              { key: 'Delaware', value: 'Delaware', email: 'Delaware@tribute.com' },
              { key: 'Florida', value: 'Florida', email: 'Florida@tribute.com' },
              { key: 'Georgia', value: 'Georgia', email: 'Georgia@tribute.com' },
              { key: 'Hawaii', value: 'Hawaii', email: 'Hawaii@tribute.com' },
              { key: 'Idaho', value: 'Idaho', email: 'Idaho@tribute.com' },
              { key: 'Illinois', value: 'Illinois', email: 'Illinois@tribute.com' },
              { key: 'Indiana', value: 'Indiana', email: 'Indiana@tribute.com' },
              { key: 'Iowa', value: 'Iowa', email: 'Iowa@tribute.com' },
              { key: 'Kansas', value: 'Kansas', email: 'Kansas@tribute.com' },
              { key: 'Kentucky', value: 'Kentucky', email: 'Kentucky@tribute.com' },
              { key: 'Louisiana', value: 'Louisiana', email: 'Louisiana@tribute.com' },
              { key: 'Maine', value: 'Maine', email: 'Maine@tribute.com' },
              { key: 'Maryland', value: 'Maryland', email: 'Maryland@tribute.com' },
              { key: 'Massachusetts', value: 'Massachusetts', email: 'Massachusetts@tribute.com' },
              { key: 'Michigan', value: 'Michigan', email: 'Michigan@tribute.com' },
              { key: 'Minnesota', value: 'Minnesota', email: 'Minnesota@tribute.com' },
              { key: 'Mississippi', value: 'Mississippi', email: 'Mississippi@tribute.com' },
              { key: 'Missouri', value: 'Missouri', email: 'Missouri@tribute.com' },
              { key: 'Montana', value: 'Montana', email: 'Montana@tribute.com' },
              { key: 'Nebraska', value: 'Nebraska', email: 'Nebraska@tribute.com' },
              { key: 'Nevada', value: 'Nevada', email: 'Nevada@tribute.com' },
              { key: 'New Hampshire', value: 'New Hampshire', email: 'New Hampshire@tribute.com' },
              { key: 'New Jersey', value: 'New Jersey', email: 'New Jersey@tribute.com' },
              { key: 'New Mexico', value: 'New Mexico', email: 'New Mexico@tribute.com' },
              { key: 'New York', value: 'New York', email: 'New York@tribute.com' },
              { key: 'North Carolina', value: 'North Carolina', email: 'North Carolina@tribute.com' },
              { key: 'North Dakota', value: 'North Dakota', email: 'North Dakota@tribute.com' },
              { key: 'Ohio', value: 'Ohio', email: 'Ohio@tribute.com' },
              { key: 'Oklahoma', value: 'Oklahoma', email: 'Oklahoma@tribute.com' },
              { key: 'Oregon', value: 'Oregon', email: 'Oregon@tribute.com' },
              { key: 'Pennsylvania', value: 'Pennsylvania', email: 'Pennsylvania@tribute.com' },
              { key: 'Rhode Island', value: 'Rhode Island', email: 'Rhode Island@tribute.com' },
              { key: 'South Carolina', value: 'South Carolina', email: 'South Carolina@tribute.com' },
              { key: 'South Dakota', value: 'South Dakota', email: 'South Dakota@tribute.com' },
              { key: 'Tennessee', value: 'Tennessee', email: 'Tennessee@tribute.com' },
              { key: 'Texas', value: 'Texas', email: 'Texas@tribute.com' },
              { key: 'Utah', value: 'Utah', email: 'Utah@tribute.com' },
              { key: 'Vermont', value: 'Vermont', email: 'Vermont@tribute.com' },
              { key: 'Virginia', value: 'Virginia', email: 'Virginia@tribute.com' },
              { key: 'Washington', value: 'Washington', email: 'Washington@tribute.com' },
              { key: 'West Virginia', value: 'West Virginia', email: 'West Virginia@tribute.com' },
              { key: 'Wisconsin', value: 'Wisconsin', email: 'Wisconsin@tribute.com' },
              { key: 'Wyoming', value: 'Wyoming', email: 'Wyoming@tribute.com'  }
            ]
          }]
        });

        tributeAutoComplete.attach(document.getElementById('testAutocomplete'));

      // example of alternative callback
      var tribute = new Tribute({
        menuContainer: document.getElementById('content'),
        values: [
          {key: 'Jordan Humphreys', value: 'Jordan Humphreys', email: 'getstarted@zurb.com'},
          {key: 'Sir Walter Riley', value: 'Sir Walter Riley', email: 'getstarted+riley@zurb.com'}
        ],
        selectTemplate: function (item) {
          if (typeof item === 'undefined') return null;
          if (this.range.isContentEditable(this.current.element)) {
            return '<span contenteditable="false"><a href="http://zurb.com" target="_blank" title="' + item.original.email + '">' + item.original.value + '</a></span>';
          }

          return '@' + item.original.value;
        }
      });

      tribute.attach(document.getElementById('test'));
      tribute.attach(document.getElementById('testInput'));
      tribute.attach(document.getElementById('testarea'));

      var tributeMultipleTriggers = new Tribute({
        collection: [{
          // The function that gets call on select that retuns the content to insert
          selectTemplate: function (item) {
            if (this.range.isContentEditable(this.current.element)) {
              return '<a href="http://zurb.com" title="' + item.original.email + '">@' + item.original.value + '</a>';
            }

            return '@' + item.original.value;
          },

          // the array of objects
          values: [
            {key: 'Jordan Humphreys', value: 'Jordan Humphreys', email: 'jordan@zurb.com'},
            {key: 'Sir Walter Riley', value: 'Sir Walter Riley', email: 'jordan+riley@zurb.com'}
          ]
        },
        {
          // The symbol that starts the lookup
          trigger: '#',

          // The function that gets call on select that retuns the content to insert
          selectTemplate: function (item) {
            if (this.range.isContentEditable(this.current.element)) {
              return '<a href="mailto:'+item.original.email+'">#' + item.original.name.replace() + '</a>';
            }

            return '#' + item.original.name;
          },

          // function retrieving an array of objects
          values: [
            {name: 'Bob Bill', email: 'bobbill@example.com'},
            {name: 'Steve Stevenston', email: 'steve@example.com'}
          ],

          lookup: 'name',

          fillAttr: 'name'
        }]
      });

      tributeMultipleTriggers.attach(document.getElementById('testMultiple'));

      document.getElementById('test').addEventListener('tribute-replaced', function (e) {
        console.log('Original Event:', e.detail.event);
        console.log('Matched item:', e.detail.item);
      });

      document.getElementById('test').addEventListener('tribute-no-match', function (e) {
        var values = [{key: 'Cheese Tacos', value: 'Cheese Tacos', email: 'cheesetacos@zurb.com'}];
        tribute.appendCurrent(values);
      });

      var activateLink = document.getElementById('activateInput');

      if (activateLink) {
        activateLink.addEventListener('mousedown', function (e) {
          e.preventDefault();
          var input = document.getElementById('test');

          tribute.showMenuForCollection(input);
        });
      }
    </script>
  </body>
</html>
